\documentclass{ase}

\usepackage{graphicx}
\usepackage{acronym}
\usepackage{listings}
\usepackage{vdmlisting}
\usepackage{appendix}
\usepackage{xspace}
\usepackage{cleveref}

% To get cref to work with appendices
\crefname{app}{appendix}{appendices}
\Crefname{app}{Appendix}{Appendices}

\input{jml-listings}

\acrodef{ast}[AST]{Abstract Syntax Tree}
\acrodef{vdm}[VDM]{Vienna Development Method}
\acrodef{vdmsl}[VDM-SL]{Vienna Development Method Specification Language}
\acrodef{jml}[JML]{Java Modeling Language}
\acrodef{dbc}[DbC]{Design-by-Contract}
\acrodef{atm}[ATM]{Automated Teller Machine}
\acrodef{ir}[IR]{Intermediate Representation}

\usepackage{todonotes}
\presetkeys{todonotes}{inline,linecolor=red,backgroundcolor=blue!20!white, bordercolor=red}{}

\newcommand{\vsl}{VDM-SL\xspace}

\lstset{
    basicstyle=\footnotesize\ttfamily,
    frame=single, 
    breaklines=true,
    tabsize=2, 
    linewidth=\columnwidth,
    showstringspaces=false, 
    captionpos=b,
    frameround=, 
    aboveskip=5mm,
    belowskip=5mm,
    framexleftmargin=0mm, 
    framexrightmargin=0mm,
    escapeinside={(*@}{@*)},
%    numbers=left,               
%    numbersep=10pt,                   
%    numberstyle=\small,
}

% Custom JML style
\lstdefinestyle{customJml}
{
  escapechar=~,
  breaklines=true,
  basicstyle=\footnotesize\ttfamily,
  language=[JML]Java,
  frame=tlrb,
  captionpos=b
}

% OpenJML RAC output
\lstdefinestyle{racOutput}
{
  %escapechar=!,
  captionpos=b,
  xleftmargin=0em,
  frame=single,
  numbers=none,
  breaklines=true,
  basicstyle=\footnotesize\ttfamily
}

\title{Automated translation of VDM-SL to JML-annotated Java}
\subtitle{Technical Report}
\author{Peter W. V. Tran-J\o{}rgensen}

\reportid{TR-XX}
\frontlogo{figs/logo}
%\makenomenclature
\begin{document}

\maketitle
\frontmatter
\asetableofcontents

\mainmatter

\input{chapters/intro.tex}
\input{chapters/translation.tex}

\begin{appendices}
  \crefalias{chapter}{app}
  \input{chapters/atm-model-example}
  \input{chapters/atm-code-example}
  \input{chapters/regression-tests}
\end{appendices}

%\addcontentsline{toc}{chapter}{Bibliography}
\bibliographystyle{splncs03}
\bibliography{refs}

\end{document}
